<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouTube Video Playback</title>
</head>
<body>
  <div id="pl"></div>

  <script src="https://www.youtube.com/iframe_api"></script>

  <script>
    
    let apiKey = 'AIzaSyA1TItfhNJ7GS9cWeFV12-RPZAGWVZnOng';
    
    
    let videoId = 'yNbnA5pryMg';
    
    let player;

    function onYouTubeIframeAPIReady() {
      pl = new YT.Player('pl', {
        height: '360',
        width: '640',
        videoId: videoId,
        events: {
          'onReady': onPlayerRe,
          'onStateChange': onPlayerStChange
        }
      });
    }

    function onPlayerRe(event) {
      event.target.playVideo();
    }

    function onPlayerStChange(event) {
      
      if (event.data == YT.PlayerState.ENDED) {
        
      }
    }

    function loadYouTubeApiScript() {
      let tag = document.createElement('script');
      tag.src = 'https://www.youtube.com/iframe_api';
      let firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    }

    loadYouTubeApiScript();
  </script>
</body>
</html>
